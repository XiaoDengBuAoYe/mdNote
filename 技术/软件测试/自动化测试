### 常用工具
postman，newman，jenkins：调试接口
jmeter，ant，jenkins：压力测试

java：
    junit，testng
python：
    RobotFramework：(基于python)关键字驱动，语法简单，唯一有操作界面，不能并发测试，不能自定义测试报告。
    unitTest：python内置，xunit语法，使用方便
    pytest：


### JMeter

> 基于java的一款测试工具
> 可以用于对服务器，网络或对象模拟巨大的负载
> 通过创建带有断言的脚本来验证程序是否能返回期望的结果

优缺点
1. 优点
    - 开源免费
    - 跨平台
    - 支持多协议
    - 小巧
    - 功能强大
2. 缺点
    - 不支持ip欺骗
    - 无法验证js程序，也无法验证页面ui，所以要和selenium配合

#### 安装

1. 官网或github上下载后解压
2. 修改编码集：bin/jmeter.properties中设置utf编码集sampleresult.default.encoding=UTF-8,高版本默认utf8
3. 汉化 language=zh_CN

#### 使用

基础增删改查填入接口相关信息后请求

查看结果需要在进程内添加监听器


#### 线程组

进程->线程组->线程

两个特殊的线程组
 - setUp线程组：最先执行
 - tearDowm：最后执行

##### 常用设置

线程属性
 - 线程数：并发数
 - ramp-up时间：给程序准备的时间，用于压力测试
 - 调度器
   - 启动延迟：多少时间之后才执行
   - 持续时间：多少时间内一直请求
默认属性
    - 配置元件
      - http请求默认值：请求接口前缀等
      - 信息头管理器：请求头参数设置
      - 用户定义的变量: 一些重复的内容定义一个变量使用比如/api/ma->ma然后在jmeter其他地方用${ma}调用
      - csv数据文件设置：将数据文件配置，每一列的变量名，分隔符等
    -逻辑控制器：控制器必须是请求的父级
      - if
      - 事务
      - foeach等
    - 定时器:模拟用户组的数量/线程数尽量除尽，（例如100个线程100个用户就是100个用户同时访问）否则超时时间不能设置为0.否则程序会死
      -  
#### 前置处理器

#### 后置处理器
> 提取的值大部分都是线程内变量
- xpath提取器：用来提取数据信息例如html标签内的内容，然后使用自定义名称后使用，例如下一个请求使用
- 正则表达式提取器：正则表达式匹配："字段名":"正则表达式"


#### 全局变量

在函数助手中添加  setprioperty函数，设置属性全局变量名称一般为out，然后设置子属性名称eg ${val}  生成函数，然后在线程内添加baseshell取样器将请求获取的局部值存到全局变量的子属性内，然后在使用pripoerty函数获取全局值

#### 函数
从函数助手处使用,也能直接${_函数名}
有多个函数例如uuid counter计数器等

#### 功能扩展

##### 数据库连接
在进程中添加sqlite-jdbc.jar包，然后添加jdbc连接配置填写配置信息等

#### 断言

在请求中添加断言，然后选择配置，例如对那些数据进行匹配，以及匹配规则
分类
- 结果断言：根据返回结果进行断言
- 大小断言：根据响应字段中size的大小进行断言
- 时间断言：对响应时间的断言



#### 图形化测试报告

在bin目录使用cmd 打命令jmeter -n -t 脚本文件 -l 日志文件 -e -o 目录

-n 无图像化运行 -t 被运行的脚本 -l 将运行信息写入日志文件 -e 生成测试报告 -0 指定报告输出目录 

![alt text](imgs/自动化测试/image.png)









